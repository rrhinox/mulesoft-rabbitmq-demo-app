<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns:amqp="http://www.mulesoft.org/schema/mule/amqp"
	xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/amqp http://www.mulesoft.org/schema/mule/amqp/current/mule-amqp.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd">
	<http:listener-config name="HTTP_Listener_config" doc:name="HTTP Listener config" doc:id="3b3d29d7-b62c-4541-b4c7-ffde82706060" >
		<http:listener-connection host="0.0.0.0" port="8081" />
	</http:listener-config>
	<amqp:config name="AMQP_Config" doc:name="AMQP Config" doc:id="b329547d-8a4a-4f1d-8566-fcd0af925c79" >
		<amqp:connection host="localhost" port="5672" username="guest" password="guest" />
	</amqp:config>
	<flow name="rabbitmq-demoFlow" doc:id="31b30f9a-9e3f-495a-86c6-f36dbd2cdd36" >
		<http:listener doc:name="HTTP-Listener" doc:id="f0e67d48-0c54-4ce4-a464-708c018f33d4" config-ref="HTTP_Listener_config" path="/publish"/>
		<amqp:publish doc:name="Publish" doc:id="ab84fd62-ea04-4f77-9b51-78e6fa72402c" config-ref="AMQP_Config" exchangeName="sales_exchange" deliveryMode="PERSISTENT" sendCorrelationId="AUTO" skipExchangeValidation="YES" createFallbackExchange="false">
			<amqp:routing-keys />
			<amqp:message >
				<amqp:properties contentType="application/json" expirationTimeUnit="MICROSECONDS" type="application/json" />
			</amqp:message>
		</amqp:publish>
		<logger level="INFO" doc:name="Logger" doc:id="5f8c299e-d86b-49e1-805a-32e2fd4cd48c" message="Messaggio pubblicato su RabbitMQ Exchange!"/>
	</flow>
</mule>
